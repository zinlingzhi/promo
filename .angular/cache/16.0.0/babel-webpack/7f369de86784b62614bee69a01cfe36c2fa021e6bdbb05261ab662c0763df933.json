{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet GalleryComponent = class GalleryComponent {\n  constructor(dataService, router) {\n    this.dataService = dataService;\n    this.router = router;\n    this.videos = [];\n    this.galleryItems = [];\n    this.isLoading = true;\n  }\n  ngOnInit() {\n    this.getData();\n  }\n  getData() {\n    this.dataService.fetchData().subscribe(videos => {\n      this.videos = videos;\n      this.updateGalleryItems();\n      this.isLoading = false;\n    });\n  }\n  galleryClick(id) {\n    this.router.navigate(['/video', id]);\n  }\n  onOptionReleaseSelected(value) {\n    if (value === 'old') {\n      this.videos.sort((a, b) => {\n        return new Date(a.releaseDate).getTime() - new Date(b.releaseDate).getTime();\n      });\n    } else if (value === 'new') {\n      this.videos.sort((a, b) => {\n        return new Date(b.releaseDate).getTime() - new Date(a.releaseDate).getTime();\n      });\n    }\n    this.updateGalleryItems();\n  }\n  updateGalleryItems() {\n    const videos = this.videos;\n    this.galleryItems = [];\n    for (let i = 0; i < videos.length; i++) {\n      const images = videos[i].images;\n      let imageUrl = '';\n      if (images) {\n        for (let j = 0; j < images.length; j++) {\n          const image = images[j];\n          if (image.type === 'thumbnail') {\n            imageUrl = image.url;\n          }\n        }\n        let galleryItem = {\n          video_id: 0,\n          image: '',\n          duration: '',\n          description: ''\n        };\n        galleryItem.video_id = videos[i].id;\n        galleryItem.image = imageUrl;\n        galleryItem.duration = videos[i].duration;\n        galleryItem.description = videos[i].description;\n        this.galleryItems.push(galleryItem);\n      }\n    }\n  }\n};\nGalleryComponent = __decorate([Component({\n  selector: 'app-gallery',\n  templateUrl: './gallery.component.html',\n  styleUrls: ['./gallery.component.css']\n})], GalleryComponent);\nexport { GalleryComponent };","map":{"version":3,"names":["Component","GalleryComponent","constructor","dataService","router","videos","galleryItems","isLoading","ngOnInit","getData","fetchData","subscribe","updateGalleryItems","galleryClick","id","navigate","onOptionReleaseSelected","value","sort","a","b","Date","releaseDate","getTime","i","length","images","imageUrl","j","image","type","url","galleryItem","video_id","duration","description","push","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/sun/Projects/promo/src/app/components/gallery/gallery.component.ts"],"sourcesContent":["import { Component, OnInit,  } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { DataService } from 'src/app/services/data.service';\nimport { Video } from 'src/app/models/video.interface';\n\ninterface GalleryItem {\n  video_id: number;\n  image: string;\n  duration: string;\n  description: string;\n}\n@Component({\n  selector: 'app-gallery',\n  templateUrl: './gallery.component.html',\n  styleUrls: ['./gallery.component.css']\n})\nexport class GalleryComponent implements OnInit{\n  videos: Video[] = []\n  galleryItems: GalleryItem[] = []\n  isLoading = true\n\n  constructor(private dataService: DataService, private router: Router) {\n  }\n  ngOnInit(): void {\n    this.getData()\n  }\n  getData(): void {\n    this.dataService.fetchData().subscribe((videos: any) => {\n      this.videos = videos;\n      this.updateGalleryItems()\n      this.isLoading = false;\n    })\n  }\n  galleryClick(id: number): void {\n    this.router.navigate(['/video', id])\n  }\n  onOptionReleaseSelected(value: string) {\n    if (value === 'old') {\n      this.videos.sort((a,b) => {\n        return new Date(a.releaseDate).getTime() - new Date(b.releaseDate).getTime()\n      })\n      \n    } else if (value === 'new') {\n      this.videos.sort((a,b) => {\n        return new Date(b.releaseDate).getTime() - new Date(a.releaseDate).getTime()\n      })\n    }\n    this.updateGalleryItems()\n  }\n  updateGalleryItems() {\n    const videos = this.videos\n    this.galleryItems = []\n    for (let i = 0; i < videos.length; i++) {\n      const images = videos[i].images\n      let imageUrl: string = '';\n      if (images) {\n        for (let j = 0; j < images.length; j++) {\n          const image = images[j];\n          if(image.type === 'thumbnail') {\n            imageUrl = image.url\n          }\n        }\n        let galleryItem: GalleryItem = {\n          video_id : 0,\n          image: '',\n          duration: '',\n          description: ''\n        };\n        galleryItem.video_id = videos[i].id;\n        galleryItem.image = imageUrl\n        galleryItem.duration = videos[i].duration;\n        galleryItem.description = videos[i].description;\n        this.galleryItems.push(galleryItem)\n      }\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}